"use strict";$(function(){var i,o,s,r,l,a,d,p;(i=/^1[3456789]\d{9}$/,s="",p=d=a=l=r=!(o=/^([0-9a-zA-Z]|(_|\W)){6,16}$/),{init:function(){$(".yzm").html(this.common().yzm(6)),$(".yzm").css("color",this.common().color()),$(".inp").eq(0).attr("maxlength",6),$(".inp").eq(1).attr("maxlength",11),$(".inp").eq(2).attr("maxlength",6),$(".inp").eq(3).attr("maxlength",16),$(".inp").eq(4).attr("maxlength",16);for(var e=0;e<6;e++)s+=this.common().getRandom(9);!0===$("#ckbtn").prop("checked")&&$("#zhucebtn").css("background-color","#b52024"),window.history&&window.history.pushState&&$(window).on("popstate",function(){window.history.pushState("forward",null,"#"),window.history.forward(1)}),window.history.pushState("forward",null,"#"),window.history.forward(1),this.event()},event:function(){var e=this;$(".yzm").on("click",function(){$(this).html(e.common().yzm(6)),$(".yzm").css("color",e.common().color())}),$(".smsReg").on("click",function(){if(""==!$(".inp").eq(1).val()||i.test($(".inp").eq(1).val())){if(l=!0,$(".inp").eq(2).trigger("focus"),i.test($(".inp").eq(1).val())){var e=this,n=60;$(this).html("请在<span>"+n+"</span>S内输入验证码");var t=setInterval(function(){--n<1?(clearInterval(t),$(e).html("超时请重新输入")):$(e).children("span").text(n),57==n&&$(".inp").eq(2).val(s)},1e3)}}else $(".newtxt").eq(1).append('<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:276px;">请输入有效的手机号</p>')}),$(".smsReg").on("mouseenter",function(){$(this).css({"text-decoration":"underline"})}),$(".smsReg").on("mouseleave",function(){$(this).css({"text-decoration":"none"})}),$("input.inp").each(function(t,e){$(e).on("focus",function(){if(this.style.border="1px solid skyblue",0===t)$(".newtxt").siblings().children("p").eq(0).remove();else if(1===t){$(".newtxt").eq(1).children("p").remove();var e='<p class="p1" style="font-size:12px;position:relative;top:-10px;">请填写真实的手机号,并进行验证</p>';$(".newtxt").eq(1).append(e)}else 2===t?($(".newtxt").eq(2).children("p").remove(),$(".newtxt").siblings().children("p.p1").remove(),e='<p class="p1" style="font-size:12px;position:relative;top:-10px;">请输入手机接收的验证码</p>',$(".newtxt").eq(2).append(e)):3===t?($(".newtxt").eq(3).children("p").remove(),$(".newtxt").eq(3).children(".maxBox").remove(),e='<p class="p1" style="font-size:12px;position:relative;top:-10px;">6-16位字符，可使用字母，数字或符号组成</p>',$(".newtxt").eq(3).append(e)):4===t&&(e='<p class="p1" style="font-size:12px;position:relative;top:-10px;">请再次输入登录密码，两次输入必须一致</p>',$(".newtxt").eq(4).append(e))}),$(e).on("blur",function(){if(this.style.border="1px solid #ccc",0===t){$(".newtxt").siblings().children("p").eq(0).remove();var e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:212px;">请输入图片验证码</p>';$(".newtxt").eq(0).append(e),""!==this.value&&$(".newtxt").siblings().children("p").eq(0).remove()}else $(".newtxt").siblings().children("p.p1").remove();if(1===t&&(""==this.value||i.test(this.value)?$(".newtxt").eq(1).children("p").remove():(e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:276px">请输入有效的手机号</p>',$(".newtxt").eq(1).append(e))),2===t&&""!==$(this).val()){if(""===$(".inp").eq(1).val())return e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:276px;">请输入有效的手机号</p>',void $(".newtxt").eq(1).append(e);$(".newtxt").eq(1).children("p").remove(),$(this).val()!==s?($(".newtxt").eq(2).children("p").remove(),e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">请短信输入验证码</p>',$(".newtxt").eq(2).append(e)):(a=!0,$(".newtxt").eq(2).children("p").remove())}if(3===t){var n=$('<div class="maxBox"><span>安全强度 :</span> <div class="intensity"><i class="color"></i><i></i><i></i></div><span>弱</span></div>');if(n.children().css("float","left"),n.css({float:"left","line-height":"22px"}),""==this.value||!o.test(this.value)||this.value.length<6)e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">密码必须大于6位,请重新输入</p>',$(".newtxt").eq(3).append(e),""===this.value&&($(".newtxt").eq(3).children("p").remove(),$(".newtxt").eq(3).children(".maxBox").remove());else{if(d=!0,$(".newtxt").eq(3).children("p").remove(),$(this).after(n),$(".intensity").css({width:140,height:12,border:"1px solid #9A9A9A",display:"inline-block","margin-top":"3px","margin-left":"3px","margin-right":"3px"}),$(".intensity").children("i").css({display:"inline-block",width:40,height:8,background:"#9A9A9A","margin-bottom":"6px","margin-left":"3px","margin-right":"3px"}),$(".intensity").children("i").eq(0).siblings().removeClass(),this.value.match(/^[0-9]{6,16}$/))return $(".intensity").children("i").eq(1).addClass("color"),void $(".color").eq(0).css("background","red");if(this.value.match(/^[a-zA-Z]{6,16}$/))return $(".intensity").children("i").eq(1).addClass("color"),void $(".color").eq(0).css("background","red");if(this.value.match(/^[_|\W]{6,16}$/))return $(".intensity").children("i").eq(1).addClass("color"),void $(".color").eq(0).css("background","red");if(this.value.match(/^([0-9]|[a-zA-Z]){6,16}$/))return $(".intensity").children("i").eq(1).siblings().removeClass(),$(".intensity").children("i").eq(1).addClass("color"),$(".color").css("background","yellow"),void $(".maxBox").children("span:nth-child(3)").text("中");if(this.value.match(/^([0-9]|(_|\W)){6,16}$/))return $(".intensity").children("i").eq(1).siblings().removeClass(),$(".intensity").children("i").eq(1).addClass("color"),$(".color").css("background","yellow"),void $(".maxBox").children("span:nth-child(3)").text("中");if(this.value.match(/^([a-zA-Z]|(_|\W)){6,16}$/))return $(".intensity").children("i").eq(1).siblings().removeClass(),$(".intensity").children("i").eq(1).addClass("color"),$(".color").css("background","yellow"),void $(".maxBox").children("span:nth-child(3)").text("中");if(this.value.match(/^([0-9a-zA-Z]|(_|\W)){6,16}$/))return $(".intensity").children("i").eq(2).siblings().removeClass(),$(".intensity").children("i").eq(2).addClass("color"),$(".color").css("background","green"),void $(".maxBox").children("span:nth-child(3)").text("强")}}4===t&&""!==$(this).val()&&(this.value===$(".inp").eq(3).val()?(p=!0,$(".newtxt").eq(4).children("p").remove()):(e='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">两次输入密码不一致，请重新输入</p>',$(".newtxt").eq(4).append(e)))})}),$(".ckbtn").children().on("click",function(){$(this).prop("checked")||void 0===$(this).prop("checked")?($("#zhucebtn").css("background-color","#b52024"),$(".ckbtn").children("#ckbtn").prop("checked","true")):$("#zhucebtn").css("background-color","#9A9A9A")}),$("#zhucebtn").on("click",function(e){if(!0===$("#ckbtn").prop("checked")){if($(".inp").eq(0).val().toLowerCase()===$(".yzm").html().toLowerCase())r=!0;else if(""!==$(".inp").eq(0).val()){var n='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:212px">验证码错误，请重新输入</p>';$(".newtxt").eq(0).append(n)}if(""===$(".inp").eq(1).val()){var t='<p class="p1" style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:276px;">请输入有效的手机号</p>';$(".newtxt").eq(1).append(t)}else""===$(".inp").eq(2).val()?(t='<p class="p1" style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;top:341px;">请输入手机验证码</p>',$(".newtxt").eq(2).append(t)):""!==$(".inp").eq(2).val()&&$(".inp").eq(2).val()!==s&&(t='<p class="p1" style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">请短信输入验证码</p>',$(".newtxt").eq(2).append(t));$(".inp").eq(1).val().match(i)&&""!==$(".inp").eq(2).val()&&""===$(".inp").eq(3).val()&&(n='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">密码不能为空</p>',$(".newtxt").eq(3).append(n)),$(".inp").eq(3).val()===$(".inp").eq(4).val()?$(".newtxt").eq(4).children("p").remove():(n='<p style="color: #a10000;border:1px #ffd5d5 solid;background:#f9f9f9;position:absolute;padding:3px 5px;">两次输入密码不一致，请重新输入</p>',$(".newtxt").eq(4).append(n)),!0===(r&&l&&a&&d&&p)&&(location.href="http://10.36.144.239/fanke/dist/registerUserinfo.html")}else e.preventDefault()}),$("#zhucebtn").on("mouseenter",function(){$(this).css({"text-decoration":"underline"})}),$("#zhucebtn").on("mouseleave",function(){$(this).css({"text-decoration":"none"})})},common:function(){return{getRandom:function(e,n){return(n=e<(n=n||0)?e+0*(e=n):(e=e,n))+Math.floor(Math.random()*(e-n+1))},color:function(){for(var e="#",n=0;n<6;n++)e+=this.getRandom(15).toString(16);return e},yzm:function(e){for(var n="",t=0;t<e;t++){var i=this.getRandom(48,122);48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?n+=String.fromCharCode(i):t--}return n}}}}).init()});